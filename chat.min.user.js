// ==UserScript==
// @name        Chat sizer
// @namespace   inabahare
// @description This thing adds a new function to the chat
// @include     *//steamcommunity.com/chat*
// @version     1.1
// @grant       none
// ==/UserScript==

jQuery.noConflict();(function(e){var b=e(".playerAvatar");var a=e("#chat_friendslist_area");var d=e("#chat_msg_area");var c="<style>.chat-big{width: 100%;margin-left: -289px;}</style>";(function(k,g){function f(q,w){var s,p,v,m=q.nodeName.toLowerCase();if("area"===m){s=q.parentNode;p=s.name;if(!q.href||!p||s.nodeName.toLowerCase()!=="map"){return false}v=k("img[usemap=#"+p+"]")[0];return !!v&&h(v)}return(/input|select|textarea|button|object/.test(m)?!q.disabled:"a"===m?q.href||w:w)&&h(q)}function h(i){return k.expr.filters.visible(i)&&!k(i).parents().addBack().filter(function(){return k.css(this,"visibility")==="hidden"}).length}var l=0,j=/^ui-id-\d+$/;k.ui=k.ui||{};k.extend(k.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});k.fn.extend({focus:function(i){return function(o,m){return typeof o==="number"?this.each(function(){var n=this;setTimeout(function(){k(n).focus();if(m){m.call(n)}},o)}):i.apply(this,arguments)}}(k.fn.focus),scrollParent:function(){var i;if(k.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))){i=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(k.css(this,"position"))&&/(auto|scroll)/.test(k.css(this,"overflow")+k.css(this,"overflow-y")+k.css(this,"overflow-x"))}).eq(0)}else{i=this.parents().filter(function(){return/(auto|scroll)/.test(k.css(this,"overflow")+k.css(this,"overflow-y")+k.css(this,"overflow-x"))}).eq(0)}return/fixed/.test(this.css("position"))||!i.length?k(document):i},zIndex:function(q){if(q!==g){return this.css("zIndex",q)}if(this.length){var p=k(this[0]),m,o;while(p.length&&p[0]!==document){m=p.css("position");if(m==="absolute"||m==="relative"||m==="fixed"){o=parseInt(p.css("zIndex"),10);if(!isNaN(o)&&o!==0){return o}}p=p.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++l}})},removeUniqueId:function(){return this.each(function(){if(j.test(this.id)){k(this).removeAttr("id")}})}});k.extend(k.expr[":"],{data:k.expr.createPseudo?k.expr.createPseudo(function(i){return function(m){return !!k.data(m,i)}}):function(i,o,m){return !!k.data(i,m[3])},focusable:function(i){return f(i,!isNaN(k.attr(i,"tabindex")))},tabbable:function(i){var o=k.attr(i,"tabindex"),m=isNaN(o);return(m||o>=0)&&f(i,!m)}});if(!k("<a>").outerWidth(1).jquery){k.each(["Width","Height"],function(w,t){function m(i,x,u,o){k.each(p,function(){x-=parseFloat(k.css(i,"padding"+this))||0;if(u){x-=parseFloat(k.css(i,"border"+this+"Width"))||0}if(o){x-=parseFloat(k.css(i,"margin"+this))||0}});return x}var p=t==="Width"?["Left","Right"]:["Top","Bottom"],q=t.toLowerCase(),v={innerWidth:k.fn.innerWidth,innerHeight:k.fn.innerHeight,outerWidth:k.fn.outerWidth,outerHeight:k.fn.outerHeight};k.fn["inner"+t]=function(i){if(i===g){return v["inner"+t].call(this)}return this.each(function(){k(this).css(q,m(this,i)+"px")})};k.fn["outer"+t]=function(i,o){if(typeof i!=="number"){return v["outer"+t].call(this,i)}return this.each(function(){k(this).css(q,m(this,i,true,o)+"px")})}})}if(!k.fn.addBack){k.fn.addBack=function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}}if(k("<a>").data("a-b","a").removeData("a-b").data("a-b")){k.fn.removeData=function(i){return function(m){if(arguments.length){return i.call(this,k.camelCase(m))}else{return i.call(this)}}}(k.fn.removeData)}k.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());k.support.selectstart="onselectstart" in document.createElement("div");k.fn.extend({disableSelection:function(){return this.bind((k.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(i){i.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});k.extend(k.ui,{plugin:{add:function(o,u,q){var m,p=k.ui[o].prototype;for(m in q){p.plugins[m]=p.plugins[m]||[];p.plugins[m].push([u,q[m]])}},call:function(q,o,s){var p,m=q.plugins[o];if(!m||!q.element[0].parentNode||q.element[0].parentNode.nodeType===11){return}for(p=0;p<m.length;p++){if(q.options[m[p][0]]){m[p][1].apply(q.element,s)}}}},hasScroll:function(o,q){if(k(o).css("overflow")==="hidden"){return false}var p=q&&q==="left"?"scrollLeft":"scrollTop",m=false;if(o[p]>0){return true}o[p]=1;m=o[p]>0;o[p]=0;return m}})})(jQuery);(function(g,f){var h="ui-effects-";g.effects={effect:{}};(function(z,E){function x(o,i,p){var l=D[i.type]||{};if(o==null){return p||!i.def?null:i.def}o=l.floor?~~o:parseFloat(o);if(isNaN(o)){return i.def}if(l.mod){return(o+l.mod)%l.mod}return 0>o?0:l.max<o?l.max:o}function k(i){var o=F(),l=o._rgba=[];i=i.toLowerCase();B(w,function(H,r){var t,p=r.re.exec(i),n=p&&r.parse(p),G=r.space||"rgba";if(n){t=o[G](n);o[m[G].cache]=t[m[G].cache];l=o._rgba=t._rgba;return false}});if(l.length){if(l.join()==="0,0,0,0"){z.extend(l,v.transparent)}return o}return v[i]}function A(l,i,o){o=(o+1)%1;if(o*6<1){return l+(i-l)*o*6}if(o*2<1){return i}if(o*3<2){return l+(i-l)*(2/3-o)*6}return l}var q="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",j=/^([\-+])=\s*(\d+\.?\d*)/,w=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(i){return[i[1],i[2],i[3],i[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(i){return[i[1]*2.55,i[2]*2.55,i[3]*2.55,i[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(i){return[i[1],i[2]/100,i[3]/100,i[4]]}}],F=z.Color=function(o,s,p,l){return new z.Color.fn.parse(o,s,p,l)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},D={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},C=F.support={},y=z("<p>")[0],v,B=z.each;y.style.cssText="background-color:rgba(1,1,1,.5)";C.rgba=y.style.backgroundColor.indexOf("rgba")>-1;B(m,function(l,i){i.cache="_"+l;i.props.alpha={idx:3,type:"percent",def:1}});F.fn=z.extend(F.prototype,{parse:function(H,s,p,o){if(H===E){this._rgba=[null,null,null,null];return this}if(H.jquery||H.nodeType){H=z(H).css(s);s=E}var l=this,t=z.type(H),G=this._rgba=[];if(s!==E){H=[H,s,p,o];t="array"}if(t==="string"){return this.parse(k(H)||v._default)}if(t==="array"){B(m.rgba.props,function(n,i){G[i.idx]=x(H[i.idx],i)});return this}if(t==="object"){if(H instanceof F){B(m,function(n,i){if(H[i.cache]){l[i.cache]=H[i.cache].slice()}})}else{B(m,function(u,I){var n=I.cache;B(I.props,function(r,i){if(!l[n]&&I.to){if(r==="alpha"||H[r]==null){return}l[n]=I.to(l._rgba)}l[n][i.idx]=x(H[r],i,true)});if(l[n]&&z.inArray(null,l[n].slice(0,3))<0){l[n][3]=1;if(I.from){l._rgba=I.from(l[n])}}})}return this}},is:function(o){var i=F(o),p=true,l=this;B(m,function(t,n){var r,u=i[n.cache];if(u){r=l[n.cache]||n.to&&n.to(l._rgba)||[];B(n.props,function(G,s){if(u[s.idx]!=null){p=u[s.idx]===r[s.idx];return p}})}return p});return p},_space:function(){var l=[],i=this;B(m,function(p,o){if(i[o.cache]){l.push(p)}});return l.pop()},transition:function(I,u){var J=F(I),G=J._space(),s=m[G],p=this.alpha()===0?F("transparent"):this,H=p[s.cache]||s.to(p._rgba),o=H.slice();J=J[s.cache];B(s.props,function(L,K){var n=K.idx,t=H[n],M=J[n],l=D[K.type]||{};if(M===null){return}if(t===null){o[n]=M}else{if(l.mod){if(M-t>l.mod/2){t+=l.mod}else{if(t-M>l.mod/2){t-=l.mod}}}o[n]=x((M-t)*u+t,K)}});return this[G](o)},blend:function(o){if(this._rgba[3]===1){return this}var s=this._rgba.slice(),p=s.pop(),l=F(o)._rgba;return F(z.map(s,function(n,i){return(1-p)*l[i]+p*n}))},toRgbaString:function(){var i="rgba(",l=z.map(this._rgba,function(o,n){return o==null?n>2?1:0:o});if(l[3]===1){l.pop();i="rgb("}return i+l.join()+")"},toHslaString:function(){var i="hsla(",l=z.map(this.hsla(),function(o,n){if(o==null){o=n>2?1:0}if(n&&n<3){o=Math.round(o*100)+"%"}return o});if(l[3]===1){l.pop();i="hsl("}return i+l.join()+")"},toHexString:function(i){var o=this._rgba.slice(),l=o.pop();if(i){o.push(~~(l*255))}return"#"+z.map(o,function(n){n=(n||0).toString(16);return n.length===1?"0"+n:n}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});F.fn.parse.prototype=F.fn;m.hsla.to=function(L){if(L[0]==null||L[1]==null||L[2]==null){return[null,null,null,L[3]]}var P=L[0]/255,H=L[1]/255,p=L[2]/255,J=L[3],Q=Math.max(P,H,p),G=Math.min(P,H,p),O=Q-G,N=Q+G,K=N*0.5,I,M;if(G===Q){I=0}else{if(P===Q){I=60*(H-p)/O+360}else{if(H===Q){I=60*(p-P)/O+120}else{I=60*(P-H)/O+240}}}if(O===0){M=0}else{if(K<=0.5){M=O/N}else{M=O/(2-N)}}return[Math.round(I)%360,M,K,J==null?1:J]};m.hsla.from=function(H){if(H[0]==null||H[1]==null||H[2]==null){return[null,null,null,H[3]]}var p=H[0]/360,J=H[1],G=H[2],l=H[3],u=G<=0.5?G*(1+J):G+J-G*J,I=2*G-u;return[Math.round(A(I,u,p+1/3)*255),Math.round(A(I,u,p)*255),Math.round(A(I,u,p-1/3)*255),l]};B(m,function(G,r){var t=r.props,p=r.cache,l=r.to,s=r.from;F.fn[G]=function(J){if(l&&!this[p]){this[p]=l(this._rgba)}if(J===E){return this[p].slice()}var H,u=z.type(J),o=u==="array"||u==="object"?J:arguments,I=this[p].slice();B(t,function(K,i){var L=o[u==="object"?K:i.idx];if(L==null){L=I[i.idx]}I[i.idx]=x(L,i)});if(s){H=F(s(I));H[p]=I;return H}else{return F(I)}};B(t,function(o,n){if(F.fn[o]){return}F.fn[o]=function(J){var L=z.type(J),I=o==="alpha"?this._hsla?"hsla":"rgba":G,H=this[I](),K=H[n.idx],i;if(L==="undefined"){return K}if(L==="function"){J=J.call(this,K);L=z.type(J)}if(J==null&&n.empty){return this}if(L==="string"){i=j.exec(J);if(i){J=K+parseFloat(i[2])*(i[1]==="+"?1:-1)}}H[n.idx]=J;return this[I](H)}})});F.hook=function(i){var l=i.split(" ");B(l,function(o,p){z.cssHooks[p]={set:function(G,H){var s,J,n="";if(H!=="transparent"&&(z.type(H)!=="string"||(s=k(H)))){H=F(s||H);if(!C.rgba&&H._rgba[3]!==1){J=p==="backgroundColor"?G.parentNode:G;while((n===""||n==="transparent")&&J&&J.style){try{n=z.css(J,"backgroundColor");J=J.parentNode}catch(I){}}H=H.blend(n&&n!=="transparent"?n:"_default")}H=H.toRgbaString()}try{G.style[p]=H}catch(I){}}};z.fx.step[p]=function(n){if(!n.colorInit){n.start=F(n.elem,p);n.end=F(n.end);n.colorInit=true}z.cssHooks[p].set(n.elem,n.start.transition(n.end,n.pos))}})};F.hook(q);z.cssHooks.borderColor={expand:function(l){var i={};B(["Top","Right","Bottom","Left"],function(p,o){i["border"+o+"Color"]=l});return i}};v=z.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function j(p){var v,u,o=p.ownerDocument.defaultView?p.ownerDocument.defaultView.getComputedStyle(p,null):p.currentStyle,q={};if(o&&o.length&&o[0]&&o[o[0]]){u=o.length;while(u--){v=o[u];if(typeof o[v]==="string"){q[g.camelCase(v)]=o[v]}}}else{for(v in o){if(typeof o[v]==="string"){q[v]=o[v]}}}return q}function k(q,v){var p={},r,u;for(r in v){u=v[r];if(q[r]!==u){if(!l[r]){if(g.fx.step[r]||!isNaN(parseFloat(u))){p[r]=u}}}}return p}var m=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};g.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(i,o){g.fx.step[o]=function(n){if(n.end!=="none"&&!n.setAttr||n.pos===1&&!n.setAttr){jQuery.style(n.elem,o,n.end);n.setAttr=true}}});if(!g.fn.addBack){g.fn.addBack=function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}}g.effects.animateClass=function(p,q,s,n){var i=g.speed(q,s,n);return this.queue(function(){var v=g(this),x=v.attr("class")||"",t,w=i.children?v.find("*").addBack():v;w=w.map(function(){var o=g(this);return{el:o,start:j(this)}});t=function(){g.each(m,function(o,r){if(p[r]){v[r+"Class"](p[r])}})};t();w=w.map(function(){this.end=j(this.el[0]);this.diff=k(this.start,this.end);return this});v.attr("class",x);w=w.map(function(){var o=this,y=g.Deferred(),u=g.extend({},i,{queue:false,complete:function(){y.resolve(o)}});this.el.animate(this.diff,u);return y.promise()});g.when.apply(g,w.get()).done(function(){t();g.each(arguments,function(){var o=this.el;g.each(this.diff,function(r){o.css(r,"")})});i.complete.call(v[0])})})};g.fn.extend({addClass:function(i){return function(t,q,o,p){return q?g.effects.animateClass.call(this,{add:t},q,o,p):i.apply(this,arguments)}}(g.fn.addClass),removeClass:function(i){return function(t,q,o,p){return arguments.length>1?g.effects.animateClass.call(this,{remove:t},q,o,p):i.apply(this,arguments)}}(g.fn.removeClass),toggleClass:function(i){return function(t,p,q,v,n){if(typeof p==="boolean"||p===f){if(!q){return i.apply(this,arguments)}else{return g.effects.animateClass.call(this,p?{add:t}:{remove:t},q,v,n)}}else{return g.effects.animateClass.call(this,{toggle:t},p,q,v)}}}(g.fn.toggleClass),switchClass:function(p,v,u,o,q){return g.effects.animateClass.call(this,{add:v,remove:p},u,o,q)}})})();(function(){function k(m,p,o,l){if(g.isPlainObject(m)){p=m;m=m.effect}m={effect:m};if(p==null){p={}}if(g.isFunction(p)){l=p;o=null;p={}}if(typeof p==="number"||g.fx.speeds[p]){l=o;o=p;p={}}if(g.isFunction(o)){l=o;o=null}if(p){g.extend(m,p)}o=o||p.duration;m.duration=g.fx.off?0:typeof o==="number"?o:o in g.fx.speeds?g.fx.speeds[o]:g.fx.speeds._default;m.complete=l||p.complete;return m}function j(i){if(!i||typeof i==="number"||g.fx.speeds[i]){return true}if(typeof i==="string"&&!g.effects.effect[i]){return true}if(g.isFunction(i)){return true}if(typeof i==="object"&&!i.effect){return true}return false}g.extend(g.effects,{version:"1.10.4",save:function(m,i){for(var l=0;l<i.length;l++){if(i[l]!==null){m.data(h+i[l],m[0].style[i[l]])}}},restore:function(o,n){var l,m;for(m=0;m<n.length;m++){if(n[m]!==null){l=o.data(h+n[m]);if(l===f){l=""}o.css(n[m],l)}}},setMode:function(l,i){if(i==="toggle"){i=l.is(":hidden")?"show":"hide"}return i},getBaseline:function(m,i){var o,l;switch(m[0]){case"top":o=0;break;case"middle":o=0.5;break;case"bottom":o=1;break;default:o=m[0]/i.height}switch(m[1]){case"left":l=0;break;case"center":l=0.5;break;case"right":l=1;break;default:l=m[1]/i.width}return{x:l,y:o}},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper")){return m.parent()}var v={width:m.outerWidth(true),height:m.outerHeight(true),"float":m.css("float")},q=g("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:m.width(),height:m.height()},p=document.activeElement;try{p.id}catch(u){p=document.body}m.wrap(q);if(m[0]===p||g.contains(m[0],p)){g(p).focus()}q=m.parent();if(m.css("position")==="static"){q.css({position:"relative"});m.css({position:"relative"})}else{g.extend(v,{position:m.css("position"),zIndex:m.css("z-index")});g.each(["top","left","bottom","right"],function(n,i){v[i]=m.css(i);if(isNaN(parseInt(v[i],10))){v[i]="auto"}});m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}m.css(l);return q.css(v).show()},removeWrapper:function(i){var l=document.activeElement;if(i.parent().is(".ui-effects-wrapper")){i.parent().replaceWith(i);if(i[0]===l||g.contains(i[0],l)){g(l).focus()}}return i},setTransition:function(m,p,o,l){l=l||{};g.each(p,function(q,r){var i=m.cssUnit(r);if(i[0]>0){l[r]=i[0]*o+i[1]}});return l}});g.fn.extend({effect:function(){function q(x){function s(){if(g.isFunction(t)){t.call(v[0])}if(g.isFunction(x)){x()}}var v=g(this),t=m.complete,w=m.mode;if(v.is(":hidden")?w==="hide":w==="show"){v[w]();s()}else{p.call(v[0],m,s)}}var m=k.apply(this,arguments),r=m.mode,l=m.queue,p=g.effects.effect[m.effect];if(g.fx.off||!p){if(r){return this[r](m.duration,m.complete)}else{return this.each(function(){if(m.complete){m.complete.call(this)}})}}return l===false?this.each(q):this.queue(l||"fx",q)},show:function(i){return function(l){if(j(l)){return i.apply(this,arguments)}else{var m=k.apply(this,arguments);m.mode="show";return this.effect.call(this,m)}}}(g.fn.show),hide:function(i){return function(l){if(j(l)){return i.apply(this,arguments)}else{var m=k.apply(this,arguments);m.mode="hide";return this.effect.call(this,m)}}}(g.fn.hide),toggle:function(i){return function(l){if(j(l)||typeof l==="boolean"){return i.apply(this,arguments)}else{var m=k.apply(this,arguments);m.mode="toggle";return this.effect.call(this,m)}}}(g.fn.toggle),cssUnit:function(i){var m=this.css(i),l=[];g.each(["em","px","%","pt"],function(o,n){if(m.indexOf(n)>0){l=[parseFloat(m),n]}});return l}})})();(function(){var i={};g.each(["Quad","Cubic","Quart","Quint","Expo"],function(j,k){i[k]=function(l){return Math.pow(l,j+2)}});g.extend(i,{Sine:function(j){return 1-Math.cos(j*Math.PI/2)},Circ:function(j){return 1-Math.sqrt(1-j*j)},Elastic:function(j){return j===0||j===1?j:-Math.pow(2,8*(j-1))*Math.sin(((j-1)*80-7.5)*Math.PI/15)},Back:function(j){return j*j*(3*j-2)},Bounce:function(k){var j,l=4;while(k<((j=Math.pow(2,--l))-1)/11){}return 1/Math.pow(4,3-l)-7.5625*Math.pow((j*3-2)/22-k,2)}});g.each(i,function(j,k){g.easing["easeIn"+j]=k;g.easing["easeOut"+j]=function(l){return 1-k(1-l)};g.easing["easeInOut"+j]=function(l){return l<0.5?k(l*2)/2:1-k(l*-2+2)/2}})})()})(jQuery);(function(h,f){var i=/up|down|vertical/,g=/up|left|vertical|horizontal/;h.effects.effect.blind=function(E,r){var F=h(this),k=["position","top","bottom","left","right","height","width"],D=h.effects.setMode(F,E.mode||"hide"),B=E.direction||"up",y=i.test(B),q=y?"height":"width",A=y?"top":"left",w=g.test(B),j={},z=D==="show",C,n,x;if(F.parent().is(".ui-effects-wrapper")){h.effects.save(F.parent(),k)}else{h.effects.save(F,k)}F.show();C=h.effects.createWrapper(F).css({overflow:"hidden"});n=C[q]();x=parseFloat(C.css(A))||0;j[q]=z?n:0;if(!w){F.css(y?"bottom":"right",0).css(y?"top":"left","auto").css({position:"absolute"});j[A]=z?x:n+x}if(z){C.css(q,0);if(!w){C.css(A,x+n)}}C.animate(j,{duration:E.duration,easing:E.easing,queue:false,complete:function(){if(D==="hide"){F.hide()}h.effects.restore(F,k);h.effects.removeWrapper(F);r()}})}})(jQuery);(function(g,f){g.effects.effect.bounce=function(z,E){var B=g(this),H=["position","top","bottom","left","right","height","width"],A=g.effects.setMode(B,z.mode||"effect"),D=A==="hide",x=A==="show",O=z.direction||"up",K=z.distance,G=z.times||5,M=G*2+(x||D?1:0),I=z.duration/M,C=z.easing,L=O==="up"||O==="down"?"top":"left",q=O==="up"||O==="left",F,J,j,N=B.queue(),k=N.length;if(x||D){H.push("opacity")}g.effects.save(B,H);B.show();g.effects.createWrapper(B);if(!K){K=B[L==="top"?"outerHeight":"outerWidth"]()/3}if(x){j={opacity:1};j[L]=0;B.css("opacity",0).css(L,q?-K*2:K*2).animate(j,I,C)}if(D){K=K/Math.pow(2,G-1)}j={};j[L]=0;for(F=0;F<G;F++){J={};J[L]=(q?"-=":"+=")+K;B.animate(J,I,C).animate(j,I,C);K=D?K*2:K/2}if(D){J={opacity:0};J[L]=(q?"-=":"+=")+K;B.animate(J,I,C)}B.queue(function(){if(D){B.hide()}g.effects.restore(B,H);g.effects.removeWrapper(B);E()});if(k>1){N.splice.apply(N,[1,0].concat(N.splice(k,M+1)))}B.dequeue()}})(jQuery);(function(g,f){g.effects.effect.clip=function(D,q){var j=g(this),w=["position","top","bottom","left","right","height","width"],E=g.effects.setMode(j,D.mode||"hide"),m=E==="show",C=D.direction||"vertical",B=C==="vertical",y=B?"height":"width",v=B?"top":"left",A={},x,k,z;g.effects.save(j,w);j.show();x=g.effects.createWrapper(j).css({overflow:"hidden"});k=j[0].tagName==="IMG"?x:j;z=k[y]();if(m){k.css(y,0);k.css(v,z/2)}A[y]=m?z:0;A[v]=m?0:z/2;k.animate(A,{queue:false,duration:D.duration,easing:D.easing,complete:function(){if(!m){j.hide()}g.effects.restore(j,w);g.effects.removeWrapper(j);q()}})}})(jQuery);(function(g,f){g.effects.effect.drop=function(y,k){var h=g(this),p=["position","top","bottom","left","right","opacity","height","width"],z=g.effects.setMode(h,y.mode||"hide"),j=z==="show",x=y.direction||"left",w=x==="up"||x==="down"?"top":"left",q=x==="up"||x==="left"?"pos":"neg",m={opacity:j?1:0},v;g.effects.save(h,p);h.show();g.effects.createWrapper(h);v=y.distance||h[w==="top"?"outerHeight":"outerWidth"](true)/2;if(j){h.css("opacity",0).css(w,q==="pos"?-v:v)}m[w]=(j?q==="pos"?"+=":"-=":q==="pos"?"-=":"+=")+v;h.animate(m,{queue:false,duration:y.duration,easing:y.easing,complete:function(){if(z==="hide"){h.hide()}g.effects.restore(h,p);g.effects.removeWrapper(h);k()}})}})(jQuery);(function(g,f){g.effects.effect.explode=function(w,C){function j(){K.push(this);if(K.length===z*F){L()}}function L(){x.css({visibility:"visible"});g(K).remove();if(!q){x.hide()}C()}var z=w.pieces?Math.round(Math.sqrt(w.pieces)):3,F=z,x=g(this),B=g.effects.setMode(x,w.mode||"hide"),q=B==="show",M=x.show().css("visibility","hidden").offset(),I=Math.ceil(x.outerWidth()/F),E=Math.ceil(x.outerHeight()/z),K=[],G,A,J,k,D,H;for(G=0;G<z;G++){k=M.top+G*E;H=G-(z-1)/2;for(A=0;A<F;A++){J=M.left+A*I;D=A-(F-1)/2;x.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-A*I,top:-G*E}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:I,height:E,left:J+(q?D*I:0),top:k+(q?H*E:0),opacity:q?0:1}).animate({left:J+(q?0:D*I),top:k+(q?0:H*E),opacity:q?1:0},w.duration||500,w.easing,j)}}}})(jQuery);(function(g,f){g.effects.effect.fade=function(j,l){var k=g(this),h=g.effects.setMode(k,j.mode||"toggle");k.animate({opacity:h},{queue:false,duration:j.duration,easing:j.easing,complete:l})}})(jQuery);(function(g,f){g.effects.effect.fold=function(I,w){var j=g(this),z=["position","top","bottom","left","right","height","width"],J=g.effects.setMode(j,I.mode||"hide"),q=J==="show",H=J==="hide",F=I.size||15,C=/([0-9]+)%/.exec(F),y=!!I.horizFirst,E=q!==y,A=E?["width","height"]:["height","width"],k=I.duration/2,D,G,x={},B={};g.effects.save(j,z);j.show();D=g.effects.createWrapper(j).css({overflow:"hidden"});G=E?[D.width(),D.height()]:[D.height(),D.width()];if(C){F=parseInt(C[1],10)/100*G[H?0:1]}if(q){D.css(y?{height:0,width:F}:{height:F,width:0})}x[A[0]]=q?G[0]:F;B[A[1]]=q?G[1]:0;D.animate(x,k,I.easing).animate(B,k,I.easing,function(){if(H){j.hide()}g.effects.restore(j,z);g.effects.removeWrapper(j);w()})}})(jQuery);(function(g,f){g.effects.effect.highlight=function(j,p){var l=g(this),h=["backgroundImage","backgroundColor","opacity"],k=g.effects.setMode(l,j.mode||"show"),m={backgroundColor:l.css("backgroundColor")};if(k==="hide"){m.opacity=0}g.effects.save(l,h);l.show().css({backgroundImage:"none",backgroundColor:j.color||"#ffff99"}).animate(m,{queue:false,duration:j.duration,easing:j.easing,complete:function(){if(k==="hide"){l.hide()}g.effects.restore(l,h);p()}})}})(jQuery);(function(g,f){g.effects.effect.pulsate=function(C,q){var j=g(this),w=g.effects.setMode(j,C.mode||"show"),D=w==="show",m=w==="hide",B=D||w==="hide",A=(C.times||5)*2+(B?1:0),y=C.duration/A,v=0,z=j.queue(),x=z.length,k;if(D||!j.is(":visible")){j.css("opacity",0).show();v=1}for(k=1;k<A;k++){j.animate({opacity:v},y,C.easing);v=1-v}j.animate({opacity:v},y,C.easing);j.queue(function(){if(m){j.hide()}q()});if(x>1){z.splice.apply(z,[1,0].concat(z.splice(x,A+1)))}j.dequeue()}})(jQuery);(function(g,f){g.effects.effect.puff=function(l,v){var p=g(this),k=g.effects.setMode(p,l.mode||"hide"),m=k==="hide",q=parseInt(l.percent,10)||150,j=q/100,h={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};g.extend(l,{effect:"scale",queue:false,fade:true,mode:k,complete:v,percent:m?q:100,from:m?h:{height:h.height*j,width:h.width*j,outerHeight:h.outerHeight*j,outerWidth:h.outerWidth*j}});p.effect(l)};g.effects.effect.scale=function(x,k){var h=g(this),p=g.extend(true,{},x),y=g.effects.setMode(h,x.mode||"effect"),j=parseInt(x.percent,10)||(parseInt(x.percent,10)===0?0:y==="hide"?0:100),w=x.direction||"both",v=x.origin,q={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()},m={y:w!=="horizontal"?j/100:1,x:w!=="vertical"?j/100:1};p.effect="size";p.queue=false;p.complete=k;if(y!=="effect"){p.origin=v||["middle","center"];p.restore=true}p.from=x.from||(y==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:q);p.to={height:q.height*m.y,width:q.width*m.x,outerHeight:q.outerHeight*m.y,outerWidth:q.outerWidth*m.x};if(p.fade){if(y==="show"){p.from.opacity=0;p.to.opacity=1}if(y==="hide"){p.from.opacity=1;p.to.opacity=0}}h.effect(p)};g.effects.effect.size=function(w,C){var z,F,x,B=g(this),q=["position","top","bottom","left","right","width","height","overflow","opacity"],M=["position","top","bottom","left","right","overflow","opacity"],I=["width","height","overflow"],E=["fontSize"],K=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],G=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],A=g.effects.setMode(B,w.mode||"effect"),J=w.restore||A!=="effect",k=w.scale||"both",D=w.origin||["middle","center"],H=B.css("position"),j=J?q:M,L={height:0,width:0,outerHeight:0,outerWidth:0};if(A==="show"){B.show()}z={height:B.height(),width:B.width(),outerHeight:B.outerHeight(),outerWidth:B.outerWidth()};if(w.mode==="toggle"&&A==="show"){B.from=w.to||L;B.to=w.from||z}else{B.from=w.from||(A==="show"?L:z);B.to=w.to||(A==="hide"?L:z)}x={from:{y:B.from.height/z.height,x:B.from.width/z.width},to:{y:B.to.height/z.height,x:B.to.width/z.width}};if(k==="box"||k==="both"){if(x.from.y!==x.to.y){j=j.concat(K);B.from=g.effects.setTransition(B,K,x.from.y,B.from);B.to=g.effects.setTransition(B,K,x.to.y,B.to)}if(x.from.x!==x.to.x){j=j.concat(G);B.from=g.effects.setTransition(B,G,x.from.x,B.from);B.to=g.effects.setTransition(B,G,x.to.x,B.to)}}if(k==="content"||k==="both"){if(x.from.y!==x.to.y){j=j.concat(E).concat(I);B.from=g.effects.setTransition(B,E,x.from.y,B.from);B.to=g.effects.setTransition(B,E,x.to.y,B.to)}}g.effects.save(B,j);B.show();g.effects.createWrapper(B);B.css("overflow","hidden").css(B.from);if(D){F=g.effects.getBaseline(D,z);B.from.top=(z.outerHeight-B.outerHeight())*F.y;B.from.left=(z.outerWidth-B.outerWidth())*F.x;B.to.top=(z.outerHeight-B.to.outerHeight)*F.y;B.to.left=(z.outerWidth-B.to.outerWidth)*F.x}B.css(B.from);if(k==="content"||k==="both"){K=K.concat(["marginTop","marginBottom"]).concat(E);G=G.concat(["marginLeft","marginRight"]);I=q.concat(K).concat(G);B.find("*[width]").each(function(){var i=g(this),h={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};if(J){g.effects.save(i,I)}i.from={height:h.height*x.from.y,width:h.width*x.from.x,outerHeight:h.outerHeight*x.from.y,outerWidth:h.outerWidth*x.from.x};i.to={height:h.height*x.to.y,width:h.width*x.to.x,outerHeight:h.height*x.to.y,outerWidth:h.width*x.to.x};if(x.from.y!==x.to.y){i.from=g.effects.setTransition(i,K,x.from.y,i.from);i.to=g.effects.setTransition(i,K,x.to.y,i.to)}if(x.from.x!==x.to.x){i.from=g.effects.setTransition(i,G,x.from.x,i.from);i.to=g.effects.setTransition(i,G,x.to.x,i.to)}i.css(i.from);i.animate(i.to,w.duration,w.easing,function(){if(J){g.effects.restore(i,I)}})})}B.animate(B.to,{queue:false,duration:w.duration,easing:w.easing,complete:function(){if(B.to.opacity===0){B.css("opacity",B.from.opacity)}if(A==="hide"){B.hide()}g.effects.restore(B,j);if(!J){if(H==="static"){B.css({position:"relative",top:B.to.top,left:B.to.left})}else{g.each(["top","left"],function(i,h){B.css(h,function(m,p){var o=parseInt(p,10),l=i?B.to.left:B.to.top;if(p==="auto"){return l+"px"}return o+l+"px"})})}}g.effects.removeWrapper(B);C()}})}})(jQuery);(function(g,f){g.effects.effect.shake=function(w,C){var z=g(this),F=["position","top","bottom","left","right","height","width"],x=g.effects.setMode(z,w.mode||"effect"),B=w.direction||"left",q=w.distance||20,L=w.times||3,I=L*2+1,E=Math.round(w.duration/I),K=B==="up"||B==="down"?"top":"left",G=B==="up"||B==="left",A={},J={},k={},D,H=z.queue(),j=H.length;g.effects.save(z,F);z.show();g.effects.createWrapper(z);A[K]=(G?"-=":"+=")+q;J[K]=(G?"+=":"-=")+q*2;k[K]=(G?"-=":"+=")+q*2;z.animate(A,E,w.easing);for(D=1;D<L;D++){z.animate(J,E,w.easing).animate(k,E,w.easing)}z.animate(J,E,w.easing).animate(A,E/2,w.easing).queue(function(){if(x==="hide"){z.hide()}g.effects.restore(z,F);g.effects.removeWrapper(z);C()});if(j>1){H.splice.apply(H,[1,0].concat(H.splice(j,I+1)))}z.dequeue()}})(jQuery);(function(g,f){g.effects.effect.slide=function(y,k){var h=g(this),p=["position","top","bottom","left","right","width","height"],z=g.effects.setMode(h,y.mode||"show"),j=z==="show",x=y.direction||"left",w=x==="up"||x==="down"?"top":"left",q=x==="up"||x==="left",m,v={};g.effects.save(h,p);h.show();m=y.distance||h[w==="top"?"outerHeight":"outerWidth"](true);g.effects.createWrapper(h).css({overflow:"hidden"});if(j){h.css(w,q?isNaN(m)?"-"+m:-m:m)}v[w]=(j?q?"+=":"-=":q?"-=":"+=")+m;h.animate(v,{queue:false,duration:y.duration,easing:y.easing,complete:function(){if(z==="hide"){h.hide()}g.effects.restore(h,p);g.effects.removeWrapper(h);k()}})}})(jQuery);(function(g,f){g.effects.effect.transfer=function(A,m){var j=g(this),q=g(A.to),B=q.css("position")==="fixed",k=g("body"),z=B?k.scrollTop():0,y=B?k.scrollLeft():0,w=q.offset(),p={top:w.top-z,left:w.left-y,height:q.innerHeight(),width:q.innerWidth()},x=j.offset(),v=g("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(A.className).css({top:x.top-z,left:x.left-y,height:j.innerHeight(),width:j.innerWidth(),position:B?"fixed":"absolute"}).animate(p,A.duration,A.easing,function(){v.remove();m()})}})(jQuery);e("head").append(c);e(".playerAvatar").click(function(){a.toggle(300,function(){});d.toggleClass("chat-big",300)})})(jQuery);
